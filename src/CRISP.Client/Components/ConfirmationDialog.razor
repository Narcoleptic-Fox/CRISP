<MudDialog>
    <DialogContent>
        @if (IsArchiving)
        {
            <MudForm @ref="_form" @bind-IsValid="@_isValid">
                <MudText Typo="Typo.h6">@ContentText</MudText>
                <MudTextField T="string" Required RequiredError="A reason is required" Label="Reason for Archiving" @bind-Value=_reason></MudTextField>
            </MudForm>
        }
        else
        {
            <MudText Typo="Typo.h6">@ContentText</MudText>
        }
    </DialogContent>
    <DialogActions>
        <MudButton Variant="Variant.Filled" Color="Color.Dark" OnClick="Cancel">Cancel</MudButton>
        <MudButton Variant="Variant.Filled" Color="Color.Error" Disabled="@(!_isValid)" OnClick="Submit">@(IsArchiving ? "Archive" : "Delete")</MudButton>
    </DialogActions>
</MudDialog>
@code {
    [CascadingParameter]
    private IMudDialogInstance MudDialog { get; set; } = default!;

    [Parameter]
    public string ContentText { get; set; } = default!;

    [Parameter]
    public bool IsArchiving { get; set; } = false;

    public bool _isValid = true;
    public string _reason = "";
    public MudForm _form = default!;

    void Submit() => MudDialog.Close(DialogResult.Ok(_reason));
    void Cancel() => MudDialog.Cancel();
}
